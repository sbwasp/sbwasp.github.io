

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta content="default-src 'none'; script-src 'self' https://cdnjs.cloudflare.com 'unsafe-inline'; connect-src 'self'; img-src 'self'; style-src 'self'; font-src 'self'; form-action 'self'; frame-ancestors 'none'; base-uri 'self'" http-equiv="Content-Security-Policy" />
<meta content="nosniff" http-equiv="X-Content-Type-Options" />
<meta content="deny" http-equiv="X-Frame-Options" />
<meta content="1; mode=block" http-equiv="X-XSS-Protection" />
<meta content="strict-origin" http-equiv="Referrer-Policy" />
<meta content="max-age=31536000; includeSubDomains" http-equiv="Strict-Transport-Security" />
<meta content="'*'" http-equiv="Access-Control-Allow-Origin" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>11.21. 2017-12-23 Haven, Observatory, and Janus &mdash; South Bay WASP 1.0.3 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="South Bay WASP 1.0.3 documentation" href="../index.html"/>
        <link rel="up" title="11. Pentest Presentations" href="../pentest_presentations.html"/>
        <link rel="next" title="11.22. 2017-12-30 gohttp, hardening C/C++, Linux waitid() exploit" href="20171230_presentation.html"/>
        <link rel="prev" title="11.20. 2017-12-16 Mozilla Observatory" href="20171216_presentation.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> South Bay WASP
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../pentest_intro.html">1. South Bay WASP Meetup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pentest_kali.html">2. Kali Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pentest_challenges.html">3. Pentest Challenges</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pentest_encryption.html">4. Encryption</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pentest_html.html">5. HTML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pentest_network_tools.html">6. Pentest Network Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pentest_recon.html">7. Pentest Reconnaisance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pentest_study.html">8. Pentest Study</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pentest_buffer_overflow.html">9. Pentest Buffer Overflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pentest_scripting.html">10. Pentest scripting</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../pentest_presentations.html">11. Pentest Presentations</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="mitm.html">11.1. MitM Presentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="http_headers.html">11.2. 2017-08-05 Attacking via HTTP Headers</a></li>
<li class="toctree-l2"><a class="reference internal" href="20170812_presentation.html">11.3. 2017-08-12 VRT, cryptography, TLS 1.3, Broadpwn, cURL, and phishing</a></li>
<li class="toctree-l2"><a class="reference internal" href="20170819_presentation.html">11.4. 2017-08-19 Forcing HTTPS, HTTP forwarding</a></li>
<li class="toctree-l2"><a class="reference internal" href="20170826_presentation.html">11.5. 2017-08-26 Complexity, Cookies vs Tokens</a></li>
<li class="toctree-l2"><a class="reference internal" href="20170909_presentation.html">11.6. 2017-09-09 Adding IPv6 on the EdgeRouter Lite</a></li>
<li class="toctree-l2"><a class="reference internal" href="20170916_presentation.html">11.7. 2017-09-16 “VPN”</a></li>
<li class="toctree-l2"><a class="reference internal" href="20170923_presentation.html">11.8. 2017-09-23 nftables</a></li>
<li class="toctree-l2"><a class="reference internal" href="20170930_presentation.html">11.9. 2017-09-30 virtualization and bridges</a></li>
<li class="toctree-l2"><a class="reference internal" href="20171007_presentation.html">11.10. 2017-10-07 QEMU virtualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="20171014_presentation.html">11.11. 2017-10-14 Firewalls, building vulnerable hosts</a></li>
<li class="toctree-l2"><a class="reference internal" href="20171021_presentation.html">11.12. 2017-10-21 IPv6 addressing, KRACK, Infineon RSA</a></li>
<li class="toctree-l2"><a class="reference internal" href="20171028_presentation.html">11.13. 2017-10-28 IPv6 ULA, DHCPv6, /64 prefixes, Bad Rabbit</a></li>
<li class="toctree-l2"><a class="reference internal" href="20171104_presentation.html">11.14. 2017-11-04 Cloud providers other than AWS</a></li>
<li class="toctree-l2"><a class="reference internal" href="20171111_presentation.html">11.15. 2017-11-11 PKP removal, exploits galore</a></li>
<li class="toctree-l2"><a class="reference internal" href="20171118_presentation.html">11.16. 2017-11-18 Privacy, safe languages, Linux networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="20171125_presentation.html">11.17. 2017-11-25 Not getting hacked, keystrokes, tracking, Fancy Bear, Intel ME</a></li>
<li class="toctree-l2"><a class="reference internal" href="20171202_presentation.html">11.18. 2017-12-02 Static websites, IME follow-up</a></li>
<li class="toctree-l2"><a class="reference internal" href="20171209_presentation.html">11.19. 2017-12-09 Phone tracking, AWS leaks, macOS root, exim</a></li>
<li class="toctree-l2"><a class="reference internal" href="20171216_presentation.html">11.20. 2017-12-16 Mozilla Observatory</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">11.21. 2017-12-23 Haven, Observatory, and Janus</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#links-and-updates-this-week">11.21.1. Links and updates this week</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#links-around-the-web">11.21.1.1. Links around the web</a></li>
<li class="toctree-l4"><a class="reference internal" href="#haven">11.21.1.2. Haven</a></li>
<li class="toctree-l4"><a class="reference internal" href="#observatory-website-scanner">11.21.1.3. Observatory website scanner</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#exploits-this-week">11.21.2. Exploits this week</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cve-2017-13156-janus">11.21.2.1. CVE-2017-13156 (Janus)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="20171230_presentation.html">11.22. 2017-12-30 gohttp, hardening C/C++, Linux waitid() exploit</a></li>
<li class="toctree-l2"><a class="reference internal" href="20180106_presentation.html">11.23. 2018-01-06 Invisibly fingerprinting text, Samsung no-SOP, Meltdown/Spectre</a></li>
<li class="toctree-l2"><a class="reference internal" href="20180113_presentation.html">11.24. 2018-01-13 Links and more Meltdown/Spectre</a></li>
<li class="toctree-l2"><a class="reference internal" href="20180120_presentation.html">11.25. 2018-01-20 Links and yet more Meltdown/Spectre</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">South Bay WASP</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../pentest_presentations.html">11. Pentest Presentations</a> &raquo;</li>
        
      <li>11.21. 2017-12-23 Haven, Observatory, and Janus</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/presentations/20171223_presentation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="haven-observatory-and-janus">
<h1>11.21. 2017-12-23 Haven, Observatory, and Janus<a class="headerlink" href="#haven-observatory-and-janus" title="Permalink to this headline">¶</a></h1>
<div class="section" id="links-and-updates-this-week">
<h2>11.21.1. Links and updates this week<a class="headerlink" href="#links-and-updates-this-week" title="Permalink to this headline">¶</a></h2>
<div class="section" id="links-around-the-web">
<h3>11.21.1.1. Links around the web<a class="headerlink" href="#links-around-the-web" title="Permalink to this headline">¶</a></h3>
<div class="section" id="cloud-links">
<h4>11.21.1.1.1. Cloud links<a class="headerlink" href="#cloud-links" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p class="first"><a class="reference external" href="https://blog.apnic.net/2017/12/12/internet-protocols-changing/">Internet protocols are changing</a></p>
</li>
<li><p class="first"><a class="reference external" href="https://medium.com/&#64;nykolas.z/dns-security-filters-compared-quad9-x-opendns-x-comodo-secure-x-norton-connectsafe-x-yandex-safe-a00ace3bf21f">DNS Security Filters Compared: Quad9 x OpenDNS x Comodo Secure x Norton ConnectSafe x Yandex Safe</a></p>
<p>All these providers do very little to block access to malicious content. On a list with 30 random known-malicious domains, OpenDNS blocked 3 of them (10% success rate) and Comodo blocked other 4 (~10% success rate).</p>
</li>
</ol>
<blockquote>
<div><p>These domains were all blacklisted by Google Safe Browsing, some major antivirus engines and most of them on phishtank. Still, almost none of them got blocked.</p>
<p>Quad9 did not block any of those malicious domains. Read more for details.</p>
</div></blockquote>
</div>
<div class="section" id="tools">
<h4>11.21.1.1.2. Tools<a class="headerlink" href="#tools" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li><a class="reference external" href="https://docusaurus.io/blog/2017/12/14/introducing-docusaurus.html">Introducing Docusaurus</a></li>
<li><a class="reference external" href="http://ohshitgit.com/">Oh shit, git!</a></li>
<li><a class="reference external" href="https://github.com/learnbyexample/Command-line-text-processing/blob/master/perl_the_swiss_knife.md">Perl one liners</a></li>
<li><a class="reference external" href="https://blog.learngoprogramming.com/gotchas-of-defer-in-go-1-8d070894cb01">5 Gotchas of Defer in Go - Part I</a> and <a class="reference external" href="https://blog.learngoprogramming.com/5-gotchas-of-defer-in-go-golang-part-ii-cc550f6ad9aa">5 More Gotchas of Defer in Go - Part II</a></li>
<li><a class="reference external" href="https://cafbit.com/post/tokio_internals/">Tokio internals: Understanding Rust’s asynchronous I/O framework from the bottom up</a></li>
<li><a class="reference external" href="https://jvns.ca/blog/2017/12/21/bindgen-is-awesome/">Bindgen: awesome Rust tool for generating C bindings</a></li>
<li><a class="reference external" href="https://blog.rust-lang.org/2017/12/21/rust-in-2017.html">Rust in 2017: what we achieved</a></li>
</ol>
</div>
<div class="section" id="study-links">
<h4>11.21.1.1.3. Study links<a class="headerlink" href="#study-links" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li><a class="reference external" href="https://packetsled.com/wp-content/uploads/2017/04/Analyzing-a-Spear-Phishing-Email-2.pdf">Analyzing a Spear Phishing Email</a></li>
<li><a class="reference external" href="https://blog.kitware.com/using-open-source-to-satisfy-nist-sp-800-171-requirements/">Using Open Source to Satisfy NIST SP 800-171 Requirements</a></li>
<li><a class="reference external" href="https://sqlwiki.netspi.com/">Welcome to the NetSPI SQL Injection Wiki!</a></li>
<li>From <a class="reference external" href="https://fly.io/articles/tag/https/">fly.io HTTPS</a> articles:<ol class="arabic">
<li><a class="reference external" href="https://fly.io/articles/how-we-deliver-global-ssl-with-lets-encrypt/">How We Deliver Global SSL with Let’s Encrypt</a></li>
<li><a class="reference external" href="https://fly.io/articles/how-rsa-works-tls-foundations/">How RSA Works: TLS Foundations</a></li>
<li><a class="reference external" href="https://fly.io/articles/how-ciphersuites-work/">How Ciphersuites Work: TLS in Pieces</a></li>
<li>Next article will be the TLS handshake.</li>
</ol>
</li>
<li><a class="reference external" href="http://www.alexlambert.com/2017/12/18/kernel-debugging-for-newbies.html">Kernel debugging for newbies</a></li>
<li><a class="reference external" href="https://github.com/oliver006/elasticsearch-gmail">Elasticsearch For Beginners: Indexing your Gmail Inbox</a></li>
<li><a class="reference external" href="https://medium.com/&#64;HockeyInJune/secure-engineering-guidelines-3b8845ac3265">Secure Engineering Guidelines</a></li>
<li><a class="reference external" href="https://blog.appsecco.com/a-penetration-testers-guide-to-sub-domain-enumeration-7d842d5570f6">A penetration tester’s guide to sub-domain enumeration</a></li>
<li><a class="reference external" href="https://staaldraad.github.io/2017/12/20/netstat-without-netstat/">netstat without netstat</a></li>
<li><a class="reference external" href="https://secdevops.ai/theres-no-place-like-1-enumerating-local-ipv6-networks-88a6247e3519">There’s No Place Like ::1 - Enumerating Local IPv6 networks</a> and <a class="reference external" href="https://github.com/apg-intel/ipv6tools">IPv6 Validation Toolkit</a></li>
<li><a class="reference external" href="https://diablohorn.com/2017/12/12/attacking-encrypted-systems-with-qemu-and-volatility/">attacking encrypted systems with qemu and volatility</a></li>
<li><a class="reference external" href="https://medium.com/&#64;Ne0nd0g/introducing-merlin-645da3c635a">Introducing Merlin - A cross-platform post-exploitation HTTP/2 Command &amp; Control Tool</a></li>
<li><a class="reference external" href="https://blog.pocketcluster.io/2017/12/21/weekly-machine-learning-opensource-roundup-dec-21-2017/">Weekly Machine Learning Opensource Roundup – Dec. 21, 2017</a> leading to <a class="reference external" href="https://index.pocketcluster.io/philipperemy-tensorflow-1-4-billion-password-analysis.html">tensorflow-1.4-billion-password-analysis</a></li>
<li><a class="reference external" href="https://gameofpwnz.com/?p=684">Responder -&gt; MultiRelay -&gt; Mimikatz -&gt; Crackmapexec -&gt;Windows PWNage</a></li>
<li><a class="reference external" href="https://github.com/peewpw/Invoke-PSImage">Invoke-PSImage</a> (Embeds a PowerShell script in the pixels of a PNG file and generates a oneliner to execute)</li>
<li><a class="reference external" href="https://asintsov.blogspot.com/2017/12/data-exfiltration-in-metasploit.html">Data exfiltration with Metasploit: meterpreter DNS tunnel</a></li>
</ol>
</div>
<div class="section" id="privacy-links">
<h4>11.21.1.1.4. Privacy links<a class="headerlink" href="#privacy-links" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li><a class="reference external" href="https://arstechnica.com/gadgets/2017/12/facebooks-new-facial-recognition-feature-finds-you-in-untagged-photos/">Facebook’s new facial recognition feature finds you in untagged photos</a> (see <a class="reference external" href="https://newsroom.fb.com/news/2017/12/managing-your-identity-on-facebook-with-face-recognition-technology/">Managing Your Identity on Facebook with Face Recognition Technology</a></li>
<li><a class="reference external" href="https://pursuit.unimelb.edu.au/articles/the-simple-process-of-re-identifying-patients-in-public-health-records">The simple process of re-identifying patients in public health records</a></li>
<li><a class="reference external" href="https://arstechnica.com/gadgets/2017/12/chromes-ad-blocker-goes-live-on-february-15th/">Chrome’s ad blocker goes live on February 15</a>, <a class="reference external" href="https://blog.google/topics/journalism-news/building-better-web-everyone/">Building a better web for everyone</a>, <a class="reference external" href="https://www.betterads.org/">Coalition for Better Ads</a>, and <a class="reference external" href="https://www.betterads.org/standards/">Initial Better Ads Standards: Least preferred ad experiences for desktop web and mobile web</a>.</li>
<li><a class="reference external" href="https://www.tnhh.net/posts/gcandidate-who-is-interviewing-with-google.html">Knowing who is interviewing with Google</a></li>
</ol>
</div>
<div class="section" id="legal">
<h4>11.21.1.1.5. Legal<a class="headerlink" href="#legal" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li><a class="reference external" href="https://arstechnica.com/tech-policy/2017/12/days-after-iphone-battery-fiasco-lawsuits-against-apple-begin-to-mount/">Days after iPhone battery fiasco, lawsuits against Apple begin to mount</a></li>
<li><a class="reference external" href="https://bugs.chromium.org/p/project-zero/issues/detail?id=1481&amp;desc=3">keeper: privileged ui injected into pages (again)</a><ol class="arabic">
<li><a class="reference external" href="https://arstechnica.com/information-technology/2017/12/microsoft-is-forcing-users-to-install-a-critically-flawed-password-manager/">For 8 days Windows bundled a password manager with a critical plugin flaw</a></li>
<li><a class="reference external" href="https://www.documentcloud.org/documents/4333677-Keeper-Security-Inc-v-Goodin-et-al.html">Case:1:17-cv-09117 Keeper vs Ars Technica</a></li>
</ol>
</li>
</ol>
</div>
<div class="section" id="hacking-links">
<h4>11.21.1.1.6. Hacking links<a class="headerlink" href="#hacking-links" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li><a class="reference external" href="https://www.blackhat.com/docs/eu-17/materials/eu-17-Goryachy-How-To-Hack-A-Turned-Off-Computer-Or-Running-Unsigned-Code-In-Intel-Management-Engine.pdf">How to Hack a Turned-Off Computer, or Running Unsigned Code in Intel Management Engine</a> (follow-up to another Intel Management Engine bug)</li>
<li><a class="reference external" href="https://www.fastcompany.com/40505226/the-year-that-software-bugs-ate-the-world">The Year That Software Bugs Ate The World</a></li>
<li><a class="reference external" href="https://zwclose.github.io/HP-keylogger/">HP keylogger</a></li>
<li><a class="reference external" href="https://arstechnica.com/information-technology/2017/12/currency-mining-android-malware-is-so-aggressive-it-can-physically-harm-phones/">Currency-mining Android malware is so aggressive it can physically harm phones</a> and <a class="reference external" href="http://www.newsweek.com/loapi-cryptocurrency-mining-malware-so-powerful-it-can-melt-your-phone-752517">Loapi Cryptocurrency Mining Malware Is So Powerful It Can Melt Your Phone</a></li>
<li><a class="reference external" href="https://www.bleepingcomputer.com/news/security/chinese-backdoor-still-active-on-many-android-devices/">Chinese Backdoor Still Active on Many Android Devices</a></li>
<li><a class="reference external" href="https://lab.wallarm.com/the-good-the-bad-and-the-ugly-of-safari-in-client-side-attacks-56d0cb61275a">The Good, The Bad and The Ugly of Safari in Client-Side Attacks</a></li>
<li><a class="reference external" href="https://www.elttam.com.au/blog/goahead/">Remote LD_PRELOAD Exploitation</a> (GoAhead web server &lt; 3.6.5)</li>
<li><a class="reference external" href="http://www.sxcurity.pro/2017/12/17/hackertarget/">Hacking the Hackers: Leveraging an SSRF in HackerTarget</a></li>
<li><a class="reference external" href="https://binaryfigments.com/2017/12/11/dont-trust-all-ssl-tls-certificates/">Don’t trust all SSL / TLS certificates</a></li>
<li><a class="reference external" href="https://arstechnica.com/information-technology/2017/12/hackers-steal-security-firms-secret-data-in-brazen-domain-hijack/">Hackers take control of security firm’s domain, steal secret data</a> (see <a class="reference external" href="https://www.fox-it.com/en/insights/blogs/blog/fox-hit-cyber-attack/">Lessons learned from a Man-in-the-Middle attack</a>)</li>
<li><a class="reference external" href="https://qz.com/1156059/dont-buy-second-hand-internet-connected-iot-devices-from-sites-like-ebay-ebay/">Think twice about buying internet-connected devices off eBay</a></li>
<li><a class="reference external" href="https://blog.blazeinfosec.com/leveraging-web-application-vulnerabilities-to-steal-ntlm-hashes-2/">Leveraging web application vulnerabilities to steal NTLM hashes</a></li>
<li><a class="reference external" href="https://googleprojectzero.blogspot.com/2017/12/apacolypse-now-exploiting-windows-10-in_18.html">aPAColypse now: Exploiting Windows 10 in a Local Network with WPAD/PAC and JScript</a></li>
<li><a class="reference external" href="https://blog.conscioushacker.io/index.php/2017/10/25/evading-microsofts-autoruns/">Evading Microsoft’s AutoRuns</a></li>
<li><a class="reference external" href="https://dejandayoff.com/using-dns-to-break-out-of-isolated-networks-in-a-aws-cloud-environment/">Using DNS to Break Out of Isolated Networks in a AWS Cloud Environment</a></li>
<li><a class="reference external" href="https://www.twistlock.com/2017/11/20/cve-2017-16544-busybox-autocompletion-vulnerability/">CVE-2017-16544: A Busybox autocompletion vulnerability</a></li>
<li><a class="reference external" href="https://foxglovesecurity.com/2017/11/20/a-sheep-in-wolfs-clothing-finding-rce-in-hps-printer-fleet/">A Sheep in Wolf’s Clothing – Finding RCE in HP’s Printer Fleet</a></li>
<li><a class="reference external" href="http://blog.trendmicro.com/trendlabs-security-intelligence/systemd-vulnerability-leads-to-denial-of-service-on-linux/">systemd Vulnerability Leads to Denial of Service on Linux</a></li>
<li><a class="reference external" href="https://dev.acquia.com/blog/a-travis-cigithub-security-vulnerability/14/11/2017/18871">A Travis CI/Github Security Vulnerability</a></li>
<li><a class="reference external" href="https://www.wordfence.com/blog/2017/12/backdoor-captcha-plugin/">Backdoor in Captcha Plugin Affects 300K WordPress Sites</a></li>
<li><a class="reference external" href="https://www.proofpoint.com/us/threat-insight/post/north-korea-bitten-bitcoin-bug-financially-motivated-campaigns-reveal-new">North Korea Bitten by Bitcoin Bug: Financially motivated campaigns reveal new dimension of the Lazarus Group</a> and <a class="reference external" href="https://arstechnica.com/tech-policy/2017/12/north-korea-suspected-in-latest-bitcoin-heist-bankrupting-youbit-exchange/">North Korea suspected in latest bitcoin heist, bankrupting Youbit exchange</a></li>
<li><a class="reference external" href="https://oddvar.moe/2017/12/13/applocker-case-study-how-insecure-is-it-really-part-1/">AppLocker – Case study – How insecure is it really? – Part 1</a> and <a class="reference external" href="https://oddvar.moe/2017/12/21/applocker-case-study-how-insecure-is-it-really-part-2/">AppLocker – Case study – How insecure is it really? – Part 2</a></li>
<li><a class="reference external" href="https://oddvar.moe/2017/12/13/harden-windows-with-applocker-based-on-case-study-part-1/">Harden Windows with AppLocker – based on Case study part 1</a> and <a class="reference external" href="https://oddvar.moe/2017/12/21/harden-windows-with-applocker-based-on-case-study-part-2/">Harden Windows with AppLocker – based on Case study part 2</a></li>
<li><a class="reference external" href="https://www.darkreading.com/cloud/massive-cloud-leak-exposes-alteryx-experian-us-census-bureau-data/d/d-id/1330673">Massive Cloud Leak Exposes Alteryx, Experian, US Census Bureau Data</a> and <a class="reference external" href="https://www.upguard.com/breaches/cloud-leak-alteryx">Home Economics: How Life in 123 Million American Households Was Exposed Online</a></li>
<li><a class="reference external" href="https://www.bleepingcomputer.com/news/microsoft/windows-10-facial-recognition-feature-can-be-bypassed-with-a-photo/">Windows 10 Facial Recognition Feature Can Be Bypassed with a Photo</a></li>
<li><a class="reference external" href="https://lite.cnn.io/en/article/h_910710e71e532e73a80deb1294a2db7c">Romanian hackers infiltrated 65% of DC outdoor surveillance cameras for extortion</a></li>
<li><a class="reference external" href="https://www.guardicore.com/2017/12/beware-the-hex-men/">Beware the Hex-Men</a></li>
<li><a class="reference external" href="https://www.zerodayinitiative.com/blog/?tag=Top+5">Zero Day Initiative Top 5</a></li>
<li><a class="reference external" href="https://arstechnica.com/information-technology/2017/12/chinese-hackers-go-after-think-tanks-in-wave-of-more-surgical-strikes/">Chinese hackers go after think tanks in wave of more surgical strikes</a></li>
<li><a class="reference external" href="https://medium.com/&#64;woj_ciech/couple-words-about-rsync-protocol-based-on-breach-of-2k-emails-from-czech-university-5e1cfafe50a9">Couple words about rsync protocol based on breach of 2k emails from Czech university</a></li>
<li><a class="reference external" href="https://bugs.chromium.org/p/project-zero/issues/detail?id=1454&amp;desc=3">arbitrary read+write via incorrect range tracking in eBPF</a></li>
<li><a class="reference external" href="https://medium.com/&#64;slinafirinne/yeelight-the-bluetooth-led-bedside-lamp-from-xiaomi-that-spies-on-you-part-one-a651207c70bd">Yeelight, the Bluetooth LED Bedside Lamp from Xiaomi that Spies on You, Part One</a> (or maybe not)</li>
<li><a class="reference external" href="https://apnews.com/c3b26c647e794073b7626befa146caad">Russian hackers hunted journalists in years-long campaign</a></li>
<li><a class="reference external" href="https://thehackernews.com/2017/12/nissan-finance-breach.html">Nissan Finance Canada Suffers Data Breach — Notifies 1.13 Million Customers</a></li>
<li><a class="reference external" href="https://bugs.chromium.org/p/project-zero/issues/detail?id=1417">iOS/MacOS kernel double free due to IOSurfaceRootUserClient not respecting MIG ownership rules</a> (tfp0) and <a class="reference external" href="https://thehackernews.com/2017/12/ios11-jailbreak-exploit.html">Google Researcher Releases iOS Exploit—Could Enable iOS 11 Jailbreak</a></li>
<li><a class="reference external" href="https://thehackernews.com/2017/12/mitm-ssl-pinning-hostname.html">Security Flaw Left Major Banking Apps Vulnerable to MiTM Attacks Over SSL</a> and <a class="reference external" href="http://www.cs.bham.ac.uk/~garciaf/publications/spinner.pdf">Spinner: Semi-Automatic Detection of Pinning without Hostname Verification</a></li>
</ol>
</div>
</div>
<div class="section" id="haven">
<h3>11.21.1.2. Haven<a class="headerlink" href="#haven" title="Permalink to this headline">¶</a></h3>
<p>From <a class="reference external" href="https://theintercept.com/2017/12/22/snowdens-new-app-uses-your-smartphone-to-physically-guard-your-laptop/">Snowden’s New App Uses Your Smartphone To Physically Guard Your Laptop</a>:</p>
<p>The NSA whistleblower and a team of collaborators have been working on a new <a class="reference external" href="https://github.com/guardianproject/haven">open source</a> Android app called <a class="reference external" href="https://guardianproject.github.io/haven/">Haven</a> that you install on a spare smartphone, turning the device into a sort of sentry to watch over your laptop. Haven uses the smartphone’s many sensors — microphone, motion detector, light detector, and cameras — to monitor the room for changes, and it logs everything it notices. The first public beta version of Haven has officially been released; it’s available in the <a class="reference external" href="https://play.google.com/store/apps/details?id=org.havenapp.main">Play Store</a> and on <a class="reference external" href="https://guardianproject.github.io/haven-nightly/">F-Droid</a>, an open source app store for Android.</p>
<blockquote>
<div><p>Haven is an external solution to a problem computer makers traditionally attempted to handle from within their devices. Some laptops, for example, offer “secure boot” through a special tamper-resistant chip called a Trusted Platform Module, which tries to ensure that the computer’s bootloader code hasn’t been modified to be malicious. But there are various ways this could go wrong: there can be bugs in the code that does the verification, attackers could connive to get their code marked as trustworthy, or malicious code could be inserted after the bootloader. Some computer users have tried the low-tech solution of painting glitter nail polish on their laptop screws, creating a sort of seal that would be broken during a tampering attempt.</p>
<p>“Due to how current laptops, and probably most other computing devices, are made today, it is virtually impossible to systematically check later if the laptop has been compromised or not,” said Joanna Rutkowska, founder of the secure Qubes operating system, who invented the term “evil maid” in 2009 as part of her work as a security researcher.</p>
</div></blockquote>
<p>See <a class="reference external" href="https://github.com/guardianproject/haven">About Haven</a> for more details and links.</p>
</div>
<div class="section" id="observatory-website-scanner">
<h3>11.21.1.3. Observatory website scanner<a class="headerlink" href="#observatory-website-scanner" title="Permalink to this headline">¶</a></h3>
<div class="section" id="single-page-website-example">
<h4>11.21.1.3.1. Single page website example<a class="headerlink" href="#single-page-website-example" title="Permalink to this headline">¶</a></h4>
<p>An <a class="reference external" href="https://blog.mozilla.org/security/2017/06/28/analysis-alexa-top-1m-sites/">Analysis of the Alexa Top 1M sites</a> showed that 93.45% of the sites scored F in June 2017. Here we illustrate bumping up the score using a 1 page website, say from <a class="reference external" href="https://onepagelove.com/">The ultimate showcase of One Page websites</a> like the <a class="reference external" href="https://onepagelove.com/mate">Mate One Page HTML Template</a>.</p>
<p>Create a virtual machine in some cloud provider, upload the website to it, then start a python HTTP web server to get the initial score:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="hll"><span class="nv">IP</span><span class="o">=</span><span class="m">173</span>.255.221.188
</span><span class="hll">scp mate-template.zip root@<span class="si">${</span><span class="nv">IP</span><span class="si">}</span>:.
</span><span class="hll">apt install unzip -y
</span><span class="hll">unzip mate-template.zip
</span><span class="hll"><span class="nb">cd</span> mate-template
</span><span class="hll">python3 -m http.server <span class="m">80</span>
</span></pre></div>
</div>
<p>This is a quick-and-dirty implementation for demo purposes only. You use a real HTTP server like <strong class="program">nginx</strong> and follow instructions for securing your server. For example, on Linode follow <a class="reference external" href="https://linode.com/docs/security/securing-your-server/">How to Secure Your Server</a>.</p>
<p>Running <a class="reference external" href="https://observatory.mozilla.org/analyze.html">Observatory by Mozilla</a> on this website yielded a score of 0/100 or F. Adding the following meta http-equiv HTML:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="hll"><span class="p">&lt;</span><span class="nt">meta</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;default-src &#39;none&#39;; script-src &#39;self&#39;; connect-src &#39;self&#39;; img-src &#39;self&#39;; style-src &#39;self&#39;; font-src &#39;self&#39;; form-action &#39;self&#39;; frame-ancestors &#39;none&#39;; base-uri &#39;self&#39;&quot;</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&quot;Content-Security-Policy&quot;</span> <span class="p">/&gt;</span>
</span><span class="hll"><span class="p">&lt;</span><span class="nt">meta</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;nosniff&quot;</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&quot;X-Content-Type-Options&quot;</span> <span class="p">/&gt;</span>
</span><span class="hll"><span class="p">&lt;</span><span class="nt">meta</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;deny&quot;</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&quot;X-Frame-Options&quot;</span> <span class="p">/&gt;</span>
</span><span class="hll"><span class="p">&lt;</span><span class="nt">meta</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;1; mode=block&quot;</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&quot;X-XSS-Protection&quot;</span> <span class="p">/&gt;</span>
</span><span class="hll"><span class="p">&lt;</span><span class="nt">meta</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;strict-origin&quot;</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&quot;Referrer-Policy&quot;</span> <span class="p">/&gt;</span>
</span><span class="hll"><span class="p">&lt;</span><span class="nt">meta</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;max-age=31536000; includeSubDomains&quot;</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&quot;Strict-Transport-Security&quot;</span> <span class="p">/&gt;</span>
</span><span class="hll"><span class="p">&lt;</span><span class="nt">meta</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;&#39;*&#39;&quot;</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&quot;Access-Control-Allow-Origin&quot;</span> <span class="p">/&gt;</span>
</span></pre></div>
</div>
<p>The Observatory score went up to 55/100 or C. The chief problem is 40 points lost for the lack of HTTPS (and HTTP STS), which is easily corrected by getting a <a class="reference external" href="https://letsencrypt.org/">Let’s Encrypt</a> HTTPS cert.</p>
</div>
<div class="section" id="id2">
<h4>11.21.1.3.2. Content Security Policy<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<p>See <a class="reference external" href="https://content-security-policy.com/">Content Security Policy (CSP) Quick Reference Guide</a> for more information.</p>
</div>
</div>
</div>
<div class="section" id="exploits-this-week">
<h2>11.21.2. Exploits this week<a class="headerlink" href="#exploits-this-week" title="Permalink to this headline">¶</a></h2>
<div class="section" id="cve-2017-13156-janus">
<h3>11.21.2.1. CVE-2017-13156 (Janus)<a class="headerlink" href="#cve-2017-13156-janus" title="Permalink to this headline">¶</a></h3>
<div class="section" id="cve-2017-13156">
<h4>11.21.2.1.1. CVE-2017-13156<a class="headerlink" href="#cve-2017-13156" title="Permalink to this headline">¶</a></h4>
<p><cite>CVE-2017-13156 &lt;https://nvd.nist.gov/vuln/detail/CVE-2017-13156&gt;</cite> has CVSS v3 base score of 7.8 (high).</p>
<p>From <a class="reference external" href="https://www.guardsquare.com/en/blog/new-android-vulnerability-allows-attackers-modify-apps-without-affecting-their-signatures">New Android vulnerability allows attackers to modify apps without affecting their signatures</a></p>
<blockquote>
<div><p>A serious vulnerability (CVE-2017-13156) in Android allows attackers to modify the code in applications without affecting their signatures. The root of the problem is that a file can be a valid APK file and a valid DEX file at the same time. We have named it the Janus vulnerability, after the Roman god of duality.</p>
<p><strong>Janus vulnerability</strong></p>
<p>The Janus vulnerability stems from the possibility to add extra bytes to APK files and to DEX files. On the one hand, an APK file is a zip archive, which can contain arbitrary bytes at the start, before its zip entries (actually more generally, between its zip entries). The JAR signature scheme only takes into account the zip entries. It ignores any extra bytes when computing or verifying the application’s signature. On the other hand, a DEX file can contain arbitrary bytes at the end, after the regular sections of strings, classes, method definitions, etc. A file can, therefore, be a valid APK file and a valid DEX file at the same time.</p>
<p>Another key element is a seemingly harmless feature of the Dalvik/ART virtual machine. In theory, the Android runtime loads the APK file, extracts its DEX file and then runs its code. In practice, the virtual machine can load and execute both APK files and DEX files. When it gets an APK file, it still looks at the magic bytes in the header to decide which type of file it is. If it finds a DEX header, it loads the file as a DEX file. Otherwise, it loads the file as an APK file containing a zip entry with a DEX file. It can thus misinterpret dual DEX/APK files.</p>
<p>An attacker can leverage this duality. He can prepend a malicious DEX file to an APK file, without affecting its signature. The Android runtime then accepts the APK file as a valid update of a legitimate earlier version of the app. However, the Dalvik VM loads the code from the injected DEX file.</p>
<p>The Janus vulnerability affects recent Android devices (Android 5.0 and newer). Applications that have been signed with APK signature scheme v2 and that are running on devices supporting the latest signature scheme (Android 7.0 and newer) are protected against the vulnerability. Unlike scheme v1, this scheme v2 considers all bytes in the APK file. Older versions of applications and newer applications running on older devices remain susceptible. Developers should at least always apply signature scheme v2.</p>
</div></blockquote>
</div>
<div class="section" id="id3">
<h4>11.21.2.1.2. F-Droid<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<p>From <a class="reference external" href="https://f-droid.org/en/">What is F-Droid?</a>:</p>
<blockquote>
<div>F-Droid is an installable catalogue of FOSS (Free and Open Source Software) applications for the Android platform.</div></blockquote>
<p>From <a class="reference external" href="https://f-droid.org/en/2017/12/13/fdroid-and-janus.html">F-Droid and the Janus Vulnerability</a>:</p>
<blockquote>
<div><p>First off, <a class="reference external" href="https://f-droid.org">https://f-droid.org</a>, <a class="reference external" href="https://guardianproject.info/fdroid">https://guardianproject.info/fdroid</a> and <a class="reference external" href="https://apt.izzysoft.de/fdroid">https://apt.izzysoft.de/fdroid</a> were scanned for possible Janus exploits and none were found. f-droid.org’s greatest protection against malware is the requirement that everything must be built from source, humans review all apps that are added, and a source tarball for each build is stored forever. Exploit writers do not want to give away the source code to their malware nor have their activities permanently logged in git, so this process keeps them away. No malware has been found in f-droid.org in its 7 years of operation.</p>
<p>F-Droid is also an open ecosystem, that means many people are getting apps from other sources. For that reason, we are working to add Janus detection to the F-Droid Android client app. When an APK with a Janus exploit is found, it will prompt the user to uninstall it in the “Updates” tab. If an APK with a Janus exploit is downloaded from a repo that has allowed it in, it will be blocked from being installed.</p>
<p>There is also some random good news: it turns out that none of the about 10 Janus examples we have can pass fdroid update. Most of them failed to verify when fdroid update calls aapt dump badging. The one file that passed those tests was the publicly released <a class="reference external" href="https://www.androidpolice.com/wp-content/uploads/janus-poc/HelloWorld-Janus.apk">Janus demo APK</a>. But it had strange dates like 2042-14-03 00:62:15 in the ZIP entries, probably because of the tricks needed to assemble this DEX+ZIP file. This triggered a crash in fdroid update, when parsing the date of AndroidManifest.xml. Python complains that there is no 14th month. This crash prevents the APK from being added to the repo. We have also added an <a class="reference external" href="https://gitlab.com/fdroid/fdroidserver/merge_requests/409">explicit block</a> for APKs trying to exploit Janus.</p>
</div></blockquote>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="20171230_presentation.html" class="btn btn-neutral float-right" title="11.22. 2017-12-30 gohttp, hardening C/C++, Linux waitid() exploit" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="20171216_presentation.html" class="btn btn-neutral" title="11.20. 2017-12-16 Mozilla Observatory" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, bitbender.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0.3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>